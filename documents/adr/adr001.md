# ADR 001 – Adoção de Arquitetura de Microserviços para o Sistema de Cinema

## Contexto

O sistema de cinema deve oferecer funcionalidades como:

- cadastro e gerenciamento de filmes;
- controle de salas, sessões e horários;
- compra e reserva de ingressos;
- autenticação e perfis de usuários;
- processamento de pagamentos;
- relatórios administrativos.

Essas funcionalidades tendem a crescer e se tornar mais complexas com o tempo. Além disso, diferentes partes do sistema terão demandas de escalabilidade distintas — por exemplo, o módulo de compra de ingressos sofre picos em estreias, enquanto o módulo administrativo é mais estável.

A equipe também organiza o projeto em um repositório versionado e deseja permitir que times distintos trabalhem de maneira independente e desacoplada.

Diante desses fatores, é necessário definir o estilo arquitetural mais adequado.

---

## Decisão

Optou-se por utilizar **arquitetura baseada em microserviços**.

Cada domínio principal será implementado como um serviço independente, responsável por seu próprio ciclo de vida, banco de dados e lógica de negócio.

### Serviços previstos:

- **Serviço de Filmes** – catálogo, gêneros, detalhes;
- **Serviço de Sessões e Salas** – horários, salas, disponibilidade;
- **Serviço de Usuários e Autenticação**;
- **Serviço de Ingressos** – reservas, cancelamentos, verificações;
- **Serviço de Pagamentos** – integração com gateways externos;
- **Serviço de Notificações** – e-mails, SMS, atualizações.

Os serviços se comunicarão preferencialmente via **mensageria assíncrona** (ex.: RabbitMQ, Kafka) e, quando necessário, via **APIs REST internas**.

---

## Consequências

### Positivas

- **Escalabilidade independente**: é possível escalar apenas os serviços mais demandados (ex.: ingressos).
- **Maior resiliência**: falhas em um serviço não derrubam todo o sistema.
- **Desenvolvimento paralelo**: diferentes membros da equipe podem trabalhar em serviços distintos.
- **Implantações independentes**: viabiliza deploy contínuo e reduz impacto de atualizações.
- **Aderência ao domínio**: organização adequada conforme Domain-Driven Design.

### Negativas

- Maior complexidade operacional (orquestração, observabilidade, logs distribuídos, tracing, health checks).
- Sobrecarga de comunicação entre serviços, podendo exigir ferramentas de mensageria.
- Gerenciamento de dados distribuídos, impossibilitando transações ACID globais.
- Custo maior de infraestrutura para execução e monitoramento dos múltiplos serviços.

---

## Alternativas Consideradas

### 1. Arquitetura Monolítica
**Prós:** simples, fácil de implantar, baixo custo inicial.  
**Contras:** baixa escalabilidade, dificuldade de manutenção conforme o sistema cresce, deploy único arriscado.

### 2. Arquitetura em Camadas (N-Tier)
**Prós:** estrutura conhecida, comunicação simplificada.  
**Contras:** centralizada e pouco flexível para crescimento independente dos módulos críticos.

### 3. Microsserviços Modulados em um Monolito Modular
**Prós:** separação lógica sem complexidade de rede.  
**Contras:** limitações de escalabilidade e independência de deploy.

As alternativas acima não atendem adequadamente às necessidades de crescimento, escalabilidade seletiva e independência entre domínios.

---

## Decisão Final

A **arquitetura de microserviços** foi escolhida devido à necessidade de modularidade, escalabilidade, flexibilidade de implementação e resiliência do sistema.
